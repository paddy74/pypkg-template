{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",

  "extends": [
    "mergeConfidence:all-badges",
    "config:recommended",
    ":semanticCommits",
    ":semanticCommitTypeAll(chore)",
    ":semanticCommitScope(deps)",
    ":separateMultipleMajorReleases",
    ":enablePreCommit"
  ],

  "dependencyDashboard": true,
  "schedule": ["* 1-4 * * 2"],

  "prHourlyLimit": 4,
  "prConcurrentLimit": 4,

  "rangeStrategy": "replace",
  "rebaseWhen": "behind-base-branch",
  "minimumReleaseAge": "3 days",

  "lockFileMaintenance": {
    "enabled": true
  },

  "packageRules": [
    {
      "groupName": "pre-commit hooks",
      "groupSlug": "precommit-hooks",
      "matchManagers": ["pre-commit"]
    },
    {
      "groupName": "docs python dependencies",
      "groupSlug": "docs-deps",
      "matchManagers": ["pep621"],
      "matchDepTypes": ["project.dependency-groups.docs"]
    },
    {
      "groupName": "dev python dependencies",
      "groupSlug": "dev-deps",
      "matchManagers": ["pep621"],
      "matchDepTypes": ["project.dependency-groups.dev"]
    },
    {
      "matchManagers": ["pep621"],
      "matchDepTypes": ["project.dependencies"],
      "matchUpdateTypes": ["major"],
      "semanticCommitType": "build"
    },
    {
      "groupName": "python dependencies (minor)",
      "groupSlug": "deps-minor",
      "matchManagers": ["pep621"],
      "matchDepTypes": ["project.dependencies"],
      "matchUpdateTypes": ["minor"],
      "semanticCommitType": "build"
    },
    {
      "groupName": "python dependencies (patch)",
      "groupSlug": "deps-patch",
      "matchManagers": ["pep621"],
      "matchDepTypes": ["project.dependencies"],
      "matchUpdateTypes": ["patch"],
      "semanticCommitType": "fix"
    } /* ,
    // postUpgradeTasks is only supported in self-hosted Renovate
    {
      "matchManagers": ["pep621"],
      "postUpgradeTasks": {
        "commands": [
          "python -m pip install --upgrade pip",
          "python -m pip install uv",
          "uv lock"
        ],
        "fileFilters": ["pyproject.toml", "uv.lock"],
        "executionMode": "update"
      }
    } */
  ]
}
